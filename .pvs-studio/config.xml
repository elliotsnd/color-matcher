<?xml version="1.0" encoding="utf-8"?>
<PVS-Studio>
  <Settings>
    <!-- Project Information -->
    <ProjectName>Color Sensor Project</ProjectName>
    <ProjectDescription>Hardware/Software color sensor system with TCS3430 sensor</ProjectDescription>
    
    <!-- Analysis Settings -->
    <Platform>x64</Platform>
    <Configuration>Release</Configuration>
    <SourceLanguage>CPP</SourceLanguage>
    <Standard>c++17</Standard>
    
    <!-- Include paths for Arduino/ESP32 -->
    <IncludePaths>
      <!-- ESP32 Arduino Core -->
      <Path>$(USERPROFILE)\.platformio\packages\framework-arduinoespressif32\cores\esp32</Path>
      <Path>$(USERPROFILE)\.platformio\packages\framework-arduinoespressif32\libraries</Path>
      <Path>$(USERPROFILE)\.platformio\packages\framework-arduinoespressif32\tools\sdk\esp32\include</Path>
      
      <!-- Toolchain includes -->
      <Path>$(USERPROFILE)\.platformio\packages\toolchain-xtensa-esp32\xtensa-esp32-elf\include</Path>
      <Path>$(USERPROFILE)\.platformio\packages\toolchain-xtensa-esp32\lib\gcc\xtensa-esp32-elf\8.4.0\include</Path>
      
      <!-- Project specific -->
      <Path>lib</Path>
      <Path>src</Path>
      <Path>include</Path>
      <Path>data</Path>
    </IncludePaths>
    
    <!-- Preprocessor definitions for ESP32/Arduino -->
    <PreprocessorDefinitions>
      <!-- Arduino Framework -->
      <Definition>ARDUINO=10819</Definition>
      <Definition>ARDUINO_ESP32_DEV</Definition>
      <Definition>ARDUINO_ARCH_ESP32</Definition>
      
      <!-- ESP32 Platform -->
      <Definition>ESP32</Definition>
      <Definition>ESP_PLATFORM</Definition>
      <Definition>HAVE_CONFIG_H</Definition>
      
      <!-- Hardware Configuration -->
      <Definition>F_CPU=240000000L</Definition>
      <Definition>BOARD_HAS_PSRAM</Definition>
      
      <!-- Project Specific -->
      <Definition>ENABLE_KDTREE=1</Definition>
      <Definition>DEBUG_SENSOR_READINGS=1</Definition>
      <Definition>DEBUG_COLOR_MATCHING=1</Definition>
      
      <!-- Arduino Libraries -->
      <Definition>ARDUINOJSON_USE_LONG_LONG=1</Definition>
      <Definition>ARDUINOJSON_USE_DOUBLE=1</Definition>
      
      <!-- Memory Management -->
      <Definition>CONFIG_SPIRAM_SUPPORT=1</Definition>
      <Definition>CONFIG_SPIRAM_USE_CAPS_ALLOC=1</Definition>
      
      <!-- Compiler -->
      <Definition>__xtensa__</Definition>
      <Definition>__XTENSA__</Definition>
    </PreprocessorDefinitions>
    
    <!-- Analysis Rules Configuration -->
    <EnabledWarnings>
      <!-- Critical Issues -->
      <Warning>V001</Warning> <!-- Suspicious assignment in condition -->
      <Warning>V002</Warning> <!-- CWE-571: Expression is always true/false -->
      <Warning>V003</Warning> <!-- Use of uninitialized variable -->
      <Warning>V004</Warning> <!-- Array index out of bounds -->
      <Warning>V005</Warning> <!-- Null pointer dereference -->
      
      <!-- Memory Issues -->
      <Warning>V515</Warning> <!-- Null pointer dereference -->
      <Warning>V522</Warning> <!-- Dereferencing of null pointer -->
      <Warning>V549</Warning> <!-- Variable used before initialization -->
      <Warning>V595</Warning> <!-- Pointer was used after memory was released -->
      
      <!-- Logic Issues -->
      <Warning>V547</Warning> <!-- Expression is always true/false -->
      <Warning>V560</Warning> <!-- Part of conditional expression is always true/false -->
      <Warning>V590</Warning> <!-- Consider inspecting this expression -->
      
      <!-- Performance -->
      <Warning>V814</Warning> <!-- Decreased performance -->
      <Warning>V818</Warning> <!-- Constant parameter should be reference -->
      
      <!-- Security -->
      <Warning>V576</Warning> <!-- Incorrect format specifier -->
      <Warning>V645</Warning> <!-- Function parameter is not used -->
    </EnabledWarnings>
    
    <!-- Suppressed Warnings (for Arduino/ESP32 compatibility) -->
    <SuppressedWarnings>
      <!-- Arduino framework specific suppressions -->
      <Warning>V2008</Warning> <!-- Cyclomatic complexity -->
      <Warning>V2009</Warning> <!-- Function length -->
      <Warning>V2011</Warning> <!-- Parameter count -->
      
      <!-- ESP32 HAL suppressions -->
      <Warning>V2507</Warning> <!-- MISRA compliance (not applicable for Arduino) -->
      <Warning>V2000</Warning> <!-- MISRA rules -->
    </SuppressedWarnings>
    
    <!-- Output Settings -->
    <OutputSettings>
      <Format>XML</Format>
      <FullPath>true</FullPath>
      <LevelFiltering>false</LevelFiltering>
    </OutputSettings>
    
    <!-- Licensing (Free for Open Source) -->
    <License>
      <Type>OpenSource</Type>
      <ProjectURL>https://github.com/elliotsnd/color-matcher</ProjectURL>
      <ProjectType>OpenSource</ProjectType>
    </License>
  </Settings>
</PVS-Studio>
